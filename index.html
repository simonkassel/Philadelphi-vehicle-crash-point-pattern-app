<!DOCTYPE html>
<html>

<head>
  <!-- CSS Imports -->
  <link rel="stylesheet" href="css/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.0/css/bootstrap-slider.css" />
  <link rel="stylesheet" href='https://api.mapbox.com/mapbox.js/v3.0.1/mapbox.css' />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/jquery.timepicker.css" />
  <link rel="stylesheet" href="css/bootstrap.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.9/leaflet.draw.css" />
  <!-- <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.15/themes/css/cartodb.css" /> -->
  <link rel="stylesheet" href="css/cartodb.css" />
</head>

<body>
  <!-- Map -->
  <div id="map" class="map"></div>
  <!-- Sidebar -->
  <div class="sidebar">

    <div class="title-panel">
      <h3 id="title">Where do Philly's car crashes cluster?</h1>
      <h4 id="subtitle">A point pattern analysis tool</h2>
      <p id="desc-text">
        <i>
          This app uses the <a href="http://www.seas.upenn.edu/~ese502/NOTEBOOK/Part_I/4_K_Functions.pdf">Ripley's K function</a> algorithm to statistically measure
          spatial vehicle crash patterns. Generate a point pattern using
          the filters below and define a custom study area with the draw
          tool in the upper right-hand corner. Then find out
          if your pattern is clustered, dispersed, or random.
        </i>
      <p>
    </div>

    <!-- Month range dropdowns -->
    <form class="form">
      <div class="dropdown">
        <h5 id="month-title"> Month: </h5>
        <select class="month">
          <option value="0" selected="selected">   </option>
          <option value="1">January</option>
          <option value="2">February</option>
          <option value="3">March</option>
          <option value="4">April</option>
          <option value="5">May</option>
          <option value="6">June</option>
          <option value="7">July</option>
          <option value="8">August</option>
          <option value="9">September</option>
          <option value="10">October</option>
          <option value="11">November</option>
          <option value="12">December</option>
          <option value="All">All</option>
        </select>
      </div>

      <div class="time-bar">
        <h5 id="time-title"> Time range: </h5>
        <input type="text" class="tb" id="time-start" name="time-start" value="Start time">
        <input type="text" class="tb" id="time-end" name="time-end" value="End time">
      </div>

      <div class="input-group">
        <h5 id="type-title"> Collision type: </h5>
        <div class="column" id="first-column">
          <p><input class="checkbox" type="checkbox" id="type0" value="1, 3, 4, 5, 6, 7, 8">All</p>
          <p><input class="checkbox" type="checkbox" id="type1" value="1">Rear-end</p>
          <p><input class="checkbox" type="checkbox" id="type2" value="3"> Rear-to-rear (Backing)</p>
          <p><input class="checkbox" type="checkbox" id="type3" value="4"> Angle</p>
        </div>
        <div class="column" id="second-column">
          <p><input class="checkbox" type="checkbox" id="type4" value="5"> Sideswipe (same dir.)</p>
          <p><input class="checkbox" type="checkbox" id="type5" value="6"> Sideswipe (Opposite dir.)</p>
          <p><input class="checkbox" type="checkbox" id="type6" value="7"> Hit fixed object</p>
          <p><input class="checkbox" type="checkbox" id="type7" value="8"> Hit pedestrian</p>
        </div>
      </div>

      <div class="cluster-dist-radius">
        <h5 id="radius-title"> Pick a radius to measure clustering at (in miles): </h5>
        <input id="cluster-dist-radius" type="number" name="quantity" min=".05" max="5" value="0.25" step=".01">
      </div>

      <div class="submit">
        <input id="run" type="button" value="Map and Measure">
      </div>

<div class="result-section">
  <h5 id="result-title"> Are these points clustered, dispersed, or random? </h5>
  <div class="clust-results">
    <p class="result-text">
      Map a point pattern <br> to find out
    </p>
  </div>
</div>

    </form>
  </div>

  <!-- Javascript Imports -->
  <!-- <script src="http://libs.cartocdn.com/cartodb.js/v3/3.15/cartodb.js"></script> -->
  <script src="js/cartodb.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.9/leaflet.draw.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.11.4/math.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
  <script src="https://cdn.jsdelivr.net/jstat/latest/jstat.min.js"></script>
  <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>
  <script src="js/jquery-2.2.0.js"></script>
  <script src="js/jquery.timepicker.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.0/bootstrap-slider.js"></script>
  <script src="js/k_function_app.js"></script>
  <script src="js/main.js"></script>
</body>

</html>
